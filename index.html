<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Retirement Corpus Calculator — India</title>
  <meta name="description" content="A professional, India-focused retirement corpus calculator with transparent methodology, per-year projections, and an audit trail." />
  <link rel="icon" href="assets/favicon.ico">
  <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
  <meta property="og:title" content="Retirement Corpus Calculator — India" />
  <meta property="og:description" content="Build a transparent, India-focused retirement plan with per-item expenses, buffers, and a goal-seeked starting corpus." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://babubl.github.io/FreedomNumber/" />
  <meta property="og:image" content="assets/cover.png" />
  <link rel="stylesheet" href="style.css?v=7" />
  <script defer src="script.js?v=9"></script>
</head>
<body>
  <!-- Top Navigation -->
  <header class="nav" role="banner">
    <div class="nav__brand">
      <span class="nav__name">FreedomNumber</span>
    </div>
    <nav class="nav__links" aria-label="Primary">
      <a href="#method">Methodology</a>
      <a href="#calc">Calculator</a>
      <a href="#results">Results</a>
    </nav>
  </header>

  <main class="wrap">
    <!-- Hero -->
    <section class="hero section" aria-label="Overview">
      <p class="eyebrow">India-focused</p>
      <h1 class="title">Retirement Corpus Calculator</h1>
      <p class="subtitle">
        Plan with Indian inflation, post-tax returns, and real-life milestones. Edit assumptions, review per-year projections,
        export to CSV, and audit every calculation.
      </p>
      <div class="actions">
        <a class="btn btn--primary" href="#calc">Open Calculator</a>
        <a class="btn btn--link" href="#method">View Methodology</a>
      </div>
    </section>

    <!-- Methodology (unchanged) -->
    <section id="method" class="section card" aria-label="Methodology & Assumptions">
      <h2>Methodology & Assumptions</h2>
      <p class="small">
        The U.S. “4% rule” (Bengen, 1994) assumes ~3% inflation, ~50/50 stock–bond mix, ~7–8% nominal returns, and a ~30-year horizon,
        before taxes and fees. Indian households typically face higher inflation, tax drag and longer horizons. This model projects
        cash flows year-by-year with line-item expenses and a safety buffer, then goal-seeks the starting corpus such that ending
        corpus ≈ ₹0 at life expectancy.
      </p>
      <div class="grid cols-3">
        <div>
          <label><b>Modelled</b></label>
          <ul class="small">
            <li>Per-item annual expenses with growth & tenure</li>
            <li>Planned one-time events at specific ages</li>
            <li>Annual buffer on total spend (policy: buffer on gross spend)</li>
            <li>Post-tax constant return rate, less TER</li>
          </ul>
        </div>
        <div>
          <label><b>India Context</b></label>
          <ul class="small">
            <li>Education & healthcare inflation often &gt; headline CPI</li>
            <li>Tax & fees reduce realised returns (TER haircut applied)</li>
            <li>Longer horizons common; longevity presets provided</li>
          </ul>
        </div>
        <div>
          <label><b>Policy & Limits</b></label>
          <ul class="small">
            <li><b>Buffer policy:</b> buffer applies on <i>gross spend</i>; retirement income is deducted afterwards</li>
            <li>Sequence risk: “Bear Decade” (−2% real for 10 years after freedom age)</li>
            <li>Tax regime toggle is informational for now (no impact yet)</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Calculator (unchanged) -->
    <section id="calc" class="section" aria-label="Calculator">
      <!-- your existing inputs + tables remain here exactly as before -->
      <!-- … -->
    </section>

    <!-- Key Metrics (ONLY this section is revised for clarity/space) -->
    <section id="results" class="card section" aria-label="Key Metrics">
      <div class="card__head">
        <h2>Key Metrics</h2>
        <span id="kpiStatus" class="badge badge--neutral">Balanced</span>
      </div>

      <!-- Clear status banner -->
      <div id="summaryBanner" class="summary-banner" role="status" aria-live="polite">—</div>

      <!-- 2×3 grid, same KPI IDs, clearer “what it means” lines -->
      <div class="grid cols-3 kpi-grid">
        <div class="kpi">
          <div class="kpi__v" id="kpiAnnual">—</div>
          <div class="kpi__t">Annual Spend Today</div>
          <div class="kpi__sub">Current yearly spend from active expense items.</div>
        </div>

        <div class="kpi">
          <div class="kpi__v" id="kpi40x">—</div>
          <div class="kpi__t">Rule of Thumb (40×)</div>
          <div class="kpi__sub">Simple 4% proxy for context (U.S.-style benchmark).</div>
        </div>

        <div class="kpi">
          <div class="kpi__v" id="kpiCorpusFreedom">—</div>
          <div class="kpi__t">Corpus @ Freedom Age</div>
          <div class="kpi__sub">What you’ll have at age <span id="freedomEcho">55</span> with today’s corpus + SIP growth.</div>
        </div>

        <div class="kpi">
          <div class="kpi__v" id="kpiSWR">—</div>
          <div class="kpi__t">Year-1 Withdrawal %</div>
          <div class="kpi__sub">Spend (incl. buffer) ÷ corpus at freedom. Lower % is safer.</div>
        </div>

        <div class="kpi kpi--neutral" id="kpiSurplusWrap">
          <div class="kpi__v" id="kpiSurplus">—</div>
          <div class="kpi__t">Surplus / Shortfall @ Life</div>
          <div class="kpi__sub">Projected amount left (or lacking) at age <span id="lifeAgeEcho">85</span>.</div>
        </div>

        <div class="kpi">
          <div class="kpi__v" id="kpiReq">—</div>
          <div class="kpi__t">Additional Lump Sum (Today)</div>
          <div class="kpi__sub">Extra you’d need to add now. ₹0 = already funded.</div>
        </div>
      </div>

      <!-- Optional extras below (keep existing IDs so no JS break) -->
      <div class="grid cols-3 kpi-grid">
        <div class="kpi">
          <div class="kpi__v" id="kpiMax">—</div>
          <div class="kpi__t">Peak Corpus</div>
          <div class="kpi__sub">Highest level your corpus reaches during the plan.</div>
        </div>
        <div class="kpi">
          <div class="kpi__v" id="rowCount">—</div>
          <div class="kpi__t">Years Projected</div>
          <div class="kpi__sub">Total rows in the projection (one per year).</div>
        </div>
        <div class="kpi">
          <div class="kpi__v" id="kpiNarrative">—</div>
          <div class="kpi__t">What this means (summary)</div>
          <div class="kpi__sub">Plain-English one-liner for quick understanding.</div>
        </div>
      </div>

      <!-- Projection table (unchanged) -->
      <div class="table-wrap" style="margin-top:16px">
        <table id="projTable" aria-label="Projection table">
          <thead>
            <tr>
              <th class="sortable" data-key="age" aria-sort="ascending" scope="col">Age</th>
              <th class="sortable num" data-key="reg" scope="col">Regular (₹)</th>
              <th class="sortable num" data-key="planned" scope="col">Planned (₹)</th>
              <th class="sortable num" data-key="total" scope="col">Total (₹)</th>
              <th class="sortable num" data-key="totalWithBuffer" scope="col">+ Buffer (₹)</th>
              <th class="sortable num" data-key="startCorpus" scope="col">Start Corpus (₹)</th>
              <th class="sortable num" data-key="ret" scope="col">Return (₹)</th>
              <th class="sortable num" data-key="endCorpus" scope="col">End Corpus (₹)</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <div class="pager" id="pager"></div>
      </div>
    </section>
  </main>

  <footer class="footer" role="contentinfo">
    <div class="wrap footer__inner">
      <div>© FreedomNumber</div>
      <div class="footer__muted">Educational tool. Please consult a qualified advisor for financial decisions.</div>
    </div>
  </footer>
</body>
</html>
